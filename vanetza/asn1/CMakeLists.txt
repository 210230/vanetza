include(UseAsn1c)
set(ASN1C_GEN_DIR "${CMAKE_CURRENT_SOURCE_DIR}/gen")
asn1c_sources(ASN1C_SOURCES ${ASN1C_GEN_DIR})

set(CXX_SOURCES asn1c_wrapper.cpp)
vanetza_module(asn1 ${CXX_SOURCES} ${ASN1C_SOURCES})
vanetza_module_property(asn1 INCLUDE_DIRECTORIES ${ASN1C_GEN_DIR})
vanetza_module_property(asn1 INTERFACE_INCLUDE_DIRECTORIES ${ASN1C_GEN_DIR})

# Silence warnings in code generated by asn1c
if (CMAKE_C_COMPILER_ID STREQUAL "Clang")
    vanetza_module_property(asn1 COMPILE_OPTIONS "-Wno-parentheses-equality")
endif()

add_subdirectory(tests)

